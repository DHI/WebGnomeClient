<div class="chart">
    <div class="axisLabel yaxisLabel">{{ spills[0].get('units') }}</div>
    <div class="axisLabel xaxisLabel">Timeline (24 hrs)</div> 
    <div class="canvas"></div>
</div>
{% if (spills.length > 0) { %}
    <div class="row">
        <div class="substance-info col-sm-12">
            <div class="row">
                <div class="col-sm-12"><label>Substance</label></div>
                <div class="col-sm-6 substance-data">
                    <label>Name: </label>
                    {{ substance.get('name') }}
                </div>
                <div class="col-sm-6 substance-data">
                    <label>API: </label>
                    {{ substance.get('api').toFixed(1) }}
                </div>
                <div class="col-sm-6 substance-data">
                    <label>Categories: </label>
                    {% for(c in categories){ %}
                        <div class="label label-warning">{{ categories[c] }}</div>
                    {% } %}
                </div>
            </div>
        </div>
    </div>
	<div class="spill-list">
	{% for (var i = 0; i < spills.length; i++){ %}
        {% var spillValid = spills[i].isValid(); %}
        {% var rowClass = 'single row'; %}
        {% if (!spillValid){ rowClass = 'single row error'} %}
		<div class="{{ rowClass }}" data-id="{{ spills[i].get('id') }}">
			<div class="col-sm-9">
                <h5>{{ spills[i].get('name') }}</h5>
                <span class="label label-default">{{ spills[i].get('amount') }} {{ spills[i].get('units') }}</span>
                {% if (spills[i].get('release').get('start_position') && localStorage.getItem('prediction') !== 'fate'){ %}
                    {% var lon = Math.round(spills[i].get('release').get('start_position')[0] * 100) / 100 %}
                    {% var lat = Math.round(spills[i].get('release').get('start_position')[1] * 100) / 100 %}
                    {% var start = lat + ', ' + lon %}
                    {% lon = Math.round(spills[i].get('release').get('end_position')[0] * 100) / 100 %}
                    {% lat = Math.round(spills[i].get('release').get('end_position')[1] * 100) / 100 %}
                    {% var end = lat + ', ' + lon %}
                    {% if (start === end ){ %}
                        {% pos = start %}
                    {% } else{ %}
                        {% pos = start + ' - ' + end %}
                    {% } %}
                    <span class="label label-info"><span class="glyphicon glyphicon-map-marker"></span> {{ pos }}</span>
                {% } %}
            </div>
			<div class="col-sm-3">
                <span class="trash" title="Remove {{ spills[i].get('name') }}"></span>
                <span class="edit" title="Edit {{ spills[i].get('name') }}"></span>
            </div>
		</div>
	{% } %}
	</div>
{% } %}